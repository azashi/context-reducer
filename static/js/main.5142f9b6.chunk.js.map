{"version":3,"sources":["state/localStorage.js","state/ACTION_TYPES.js","state/AuthContext.js","pages/protectedPages/DashBoardPage.js","pages/protectedPages/UserDetailsPage.js","routes/PATHS.js","routes/protectedRoutes.js","pages/HomePage.js","components/SignInForm.js","pages/LoginPage.js","pages/SignUpPage.js","pages/Help.js","routes/publicRoutes.js","routes/index.js","routes/ProtectedRoute.js","pages/ErrorPage.js","layout/Header.js","layout/Footer.js","layout/index.js","App.js","index.js"],"names":["ls","set","username","password","user","hash","localStorage","setItem","JSON","stringify","get","getItem","parse","rm","this","removeItem","pass","split","reverse","join","AUTH_ACTIONS","Auth","React","createContext","LOGIN","LOGOUT","SIGNUP","initialState","isLoggedIn","reducer","state","action","payload","type","lsUser","AuthContext","children","useReducer","newSate","dispatch","Provider","value","DashBoardPage","useContext","className","UserDetailsPage","PATHS","ROOT_PATH","LOGIN_PATH","SIGNUP_PATH","HELP_PATH","DASHBOARD_PATH","USER_DETAILS_PATH","protectedRoutes","path","component","HomePage","href","target","rel","SignInForm","handleSubmit","handleDetails","details","submitButton","onSubmit","autoComplete","htmlFor","name","onChange","required","LoginPage","auth","history","useHistory","useState","setDetails","event","preventDefault","replace","prevState","SignUpPage","push","Help","style","marginLeft","routes","publicRoutes","ProtectedRoute","Component","rest","render","props","to","pathname","from","location","ErrorPage","memo","links","onClick","Layout","App","basename","map","key","exact","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5142f9b6.chunk.js","sourcesContent":["const ls = {\r\n    set({ username, password }) {\r\n        const user = { username, password: hash(password) }\r\n        localStorage.setItem(\"crUser\", JSON.stringify(user))\r\n    },\r\n    get() {\r\n        const user = localStorage.getItem(\"crUser\")\r\n        return JSON.parse(user)\r\n    },\r\n    rm() {\r\n        const user = this.get()\r\n        localStorage.removeItem(\"crUser\")\r\n        return user\r\n    }\r\n}\r\n\r\nexport const hash = (pass) => {\r\n    const salt = 'youSmarty'\r\n    const rev = pass.split('').reverse().join('')\r\n    const coded = salt + rev\r\n    return coded\r\n}\r\n\r\nexport default ls","export const AUTH_ACTIONS = {\r\n    LOGIN: \"login\",\r\n    LOGOUT: \"logout\",\r\n    SIGNUP: \"signup\"\r\n}","import React, { useReducer } from 'react'\r\nimport ls, { hash } from './localStorage'\r\nimport { AUTH_ACTIONS } from './ACTION_TYPES'\r\n\r\nexport const Auth = React.createContext()\r\n\r\nconst { LOGIN, LOGOUT, SIGNUP } = AUTH_ACTIONS\r\n\r\nconst initialState = {\r\n    isLoggedIn: false,\r\n    username: '',\r\n    password: ''\r\n}\r\n\r\nfunction reducer(state, action) {\r\n\r\n    const { username, password } = action.payload\r\n\r\n    switch (action.type) {\r\n\r\n        case LOGIN:\r\n            const lsUser = ls.get()\r\n            if (lsUser?.username === username && lsUser?.password === hash(password)) {\r\n                return { ...state, isLoggedIn: true, username, password }\r\n            } else {\r\n                return { ...state, isLoggedIn: false }\r\n            }\r\n\r\n        case LOGOUT:\r\n            return { ...state, ...initialState }\r\n\r\n        case SIGNUP:\r\n            ls.set(action.payload)\r\n            return { ...state, username, password }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport default function AuthContext({ children }) {\r\n\r\n    const [newSate, dispatch] = useReducer(reducer, initialState)\r\n\r\n    return (\r\n        <Auth.Provider value={{ ...newSate, dispatch }}>\r\n            {children}\r\n        </Auth.Provider>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { Auth } from '../../state/AuthContext'\r\n\r\nfunction DashBoardPage() {\r\n\r\n    const { username } = useContext(Auth)\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            <h1>Welcome <span className=\"white\">{username}</span> ,</h1>\r\n            <h3>Checkout user-details page for more information...</h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DashBoardPage\r\n","import React, { useContext } from 'react'\r\nimport { Auth } from \"../../state/AuthContext\";\r\n\r\nfunction UserDetailsPage() {\r\n\r\n    const { username, password } = useContext(Auth)\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            <h1>User Details:</h1>\r\n            <h2>Username : <span className=\"white\">{username}</span></h2>\r\n            <h2>Password : <span className=\"olive\">{password}</span></h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserDetailsPage\r\n","export const PATHS = {\r\n    publicPaths: {\r\n        ROOT_PATH: \"/\",\r\n        LOGIN_PATH: \"/login\",\r\n        SIGNUP_PATH: \"/signup\",\r\n        HELP_PATH: \"/help\"\r\n    },\r\n    protectedPaths: {\r\n        DASHBOARD_PATH: \"/dashboard\",\r\n        USER_DETAILS_PATH: \"/userdetails\"\r\n    }\r\n}\r\n\r\nexport const BASE_PATH = \"/context-reducer\"","import DashBoardPage from '../pages/protectedPages/DashBoardPage'\r\nimport UserDetailsPage from '../pages/protectedPages/UserDetailsPage'\r\nimport { PATHS } from './PATHS'\r\n\r\nconst { DASHBOARD_PATH, USER_DETAILS_PATH } = PATHS.protectedPaths\r\n\r\nexport const protectedRoutes = [\r\n    { path: DASHBOARD_PATH, component: DashBoardPage },\r\n    { path: USER_DETAILS_PATH, component: UserDetailsPage }\r\n]","import React from 'react'\r\n\r\nfunction HomePage() {\r\n    return (\r\n        <div className=\"content\">\r\n            <h1>Welcome to <span className=\"project-name\">context-reducer</span> project!</h1>\r\n            <h3>\r\n                This project is done in <span className=\"white\">react-js</span>\r\n            </h3>\r\n            <p>\r\n                Here <span className=\"white\">react-router-dom</span> is used and protected routes are implemented\r\n                with authentication done in global state.\r\n            </p>\r\n            <p>\r\n                To consume auth state from global state, <span className=\"white\">useContext</span> hook is used and to change auth state from a component, dispatch method from <span className=\"white\">useReducer</span> hook is called.\r\n            </p>\r\n            <p>\r\n                Repo on <a href=\"https://github.com/azashi/context-reducer\" target=\"_blank\" rel=\"noopener noreferrer\"><span className=\"blue\">GitHub</span></a>\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomePage\r\n","import React from 'react'\r\n\r\nfunction SignInForm({ handleSubmit, handleDetails, details, submitButton }) {\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"form\" autoComplete=\"off\">\r\n            <div className=\"input-group\">\r\n                <label htmlFor=\"username\">Enter username</label>\r\n                <input type=\"text\"\r\n                    name=\"username\"\r\n                    onChange={handleDetails}\r\n                    value={details[\"username\"]}\r\n                    required />\r\n            </div>\r\n            <div className=\"input-group\">\r\n                <label htmlFor=\"password\">Enter password</label>\r\n                <input type=\"password\"\r\n                    name=\"password\"\r\n                    onChange={handleDetails}\r\n                    value={details[\"password\"]}\r\n                    required />\r\n            </div>\r\n            <div className=\"btn-group\">\r\n                <button type=\"submit\" >{submitButton}</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default SignInForm\r\n","import React, { useContext, useState } from 'react'\r\nimport { Auth } from '../state/AuthContext'\r\nimport { useHistory } from 'react-router-dom'\r\nimport SignInForm from '../components/SignInForm'\r\nimport { AUTH_ACTIONS } from '../state/ACTION_TYPES'\r\nimport { PATHS } from '../routes/PATHS'\r\n\r\nfunction LoginPage() {\r\n\r\n    const { DASHBOARD_PATH } = PATHS.protectedPaths\r\n\r\n    const { LOGIN } = AUTH_ACTIONS\r\n\r\n    const auth = useContext(Auth)\r\n\r\n    const { username, password } = auth\r\n\r\n    const history = useHistory()\r\n\r\n    const [details, setDetails] = useState({ username, password })\r\n\r\n    const handleDetails = (event) => {\r\n        const { name, value } = event.target\r\n        setDetails(prevState => {\r\n            return {\r\n                ...prevState,\r\n                [name]: value\r\n            }\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        auth.dispatch({ type: LOGIN, payload: details })\r\n        history.replace(DASHBOARD_PATH)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h2>Log In</h2>\r\n            <SignInForm\r\n                handleSubmit={handleSubmit}\r\n                handleDetails={handleDetails}\r\n                details={details}\r\n                submitButton=\"Login\" />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LoginPage\r\n","import React, { useState, useContext } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport SignInForm from '../components/SignInForm'\r\nimport { Auth } from '../state/AuthContext'\r\nimport { AUTH_ACTIONS } from '../state/ACTION_TYPES'\r\nimport { PATHS } from '../routes/PATHS'\r\n\r\nfunction SignUpPage() {\r\n\r\n    const { LOGIN_PATH } = PATHS.publicPaths\r\n\r\n    const { SIGNUP } = AUTH_ACTIONS\r\n\r\n    const auth = useContext(Auth)\r\n\r\n    const history = useHistory()\r\n\r\n    const [details, setDetails] = useState({ username: \"\", password: \"\" })\r\n\r\n    const handleDetails = (event) => {\r\n        const { name, value } = event.target\r\n        setDetails(prevState => {\r\n            return {\r\n                ...prevState,\r\n                [name]: value\r\n            }\r\n        })\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        auth.dispatch({ type: SIGNUP, payload: details })\r\n        history.push(LOGIN_PATH)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h2>Sign Up</h2>\r\n            <SignInForm\r\n                handleSubmit={handleSubmit}\r\n                handleDetails={handleDetails}\r\n                details={details}\r\n                submitButton=\"Sign Up\" />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SignUpPage\r\n","import React from 'react'\r\n\r\nfunction Help() {\r\n    return (\r\n        <div className=\"content\">\r\n            <h3>Help</h3>\r\n            <ol style={style}>\r\n                <li> Username or password is incorrect</li>\r\n                <li> Please Sign Up first</li>\r\n                <li> Username and password are persisted in local-storage after sign up</li>\r\n                <li> If you forget your login details, just sign up again</li>\r\n            </ol>\r\n            <br />\r\n            <p>\r\n                For code implementation details visit this project's repo on <a href=\"https://github.com/azashi/context-reducer\" target=\"_blank\" rel=\"noopener noreferrer\"><span className=\"blue\">GitHub</span></a>\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Help\r\n\r\nconst style = {\r\n    marginLeft: \"20px\"\r\n}","import HomePage from '../pages/HomePage'\r\nimport LoginPage from '../pages/LoginPage'\r\nimport SignUpPage from '../pages/SignUpPage'\r\nimport Help from '../pages/Help'\r\nimport { PATHS } from './PATHS'\r\n\r\nconst { ROOT_PATH, LOGIN_PATH, SIGNUP_PATH, HELP_PATH } = PATHS.publicPaths\r\n\r\nexport const publicRoutes = [\r\n    { path: ROOT_PATH, component: HomePage },\r\n    { path: LOGIN_PATH, component: LoginPage },\r\n    { path: SIGNUP_PATH, component: SignUpPage },\r\n    { path: HELP_PATH, component: Help }\r\n]","import { protectedRoutes } from './protectedRoutes'\r\nimport { publicRoutes } from './publicRoutes'\r\n\r\nconst routes = {\r\n    protectedRoutes,\r\n    publicRoutes\r\n}\r\n\r\nexport default routes","import React, { useContext } from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { Auth } from '../state/AuthContext'\r\n\r\nfunction ProtectedRoute({ component: Component, ...rest }) {\r\n\r\n    const auth = useContext(Auth)\r\n\r\n    return (\r\n        <Route {...rest} render={(props) => {\r\n            if (auth.isLoggedIn) {\r\n                return <Component {...props} />\r\n            } else {\r\n                return <Redirect to={\r\n                    {\r\n                        pathname: \"/help\",\r\n                        state: { from: props.location }\r\n                    }\r\n                } />\r\n            }\r\n        }\r\n        } />\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute\r\n","import React, { Fragment } from 'react'\r\n\r\nfunction ErrorPage() {\r\n    return (\r\n        <Fragment>\r\n            <h2>\r\n                Error 404 not found\r\n            </h2>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default ErrorPage\r\n","import React, { useContext } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Auth } from '../state/AuthContext'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { AUTH_ACTIONS } from '../state/ACTION_TYPES'\r\n\r\nfunction Header() {\r\n\r\n    const { LOGOUT } = AUTH_ACTIONS\r\n\r\n    const auth = useContext(Auth)\r\n    const history = useHistory()\r\n\r\n    let links = (\r\n        <>\r\n            <li><Link to=\"/\">Home</Link></li>\r\n            <li><Link to=\"/signup\">Sign-Up</Link></li>\r\n            <li><Link to=\"/login\">Login</Link></li>\r\n        </>\r\n    )\r\n\r\n    if (auth.isLoggedIn) {\r\n        links = (\r\n            <>\r\n                <li><Link to=\"/dashboard\">Dashboard</Link></li>\r\n                <li><Link to=\"/userdetails\">User Details</Link></li>\r\n                <li>\r\n                    <Link to=\"\"\r\n                        className=\"logout\"\r\n                        onClick={() => {\r\n                            auth.dispatch({ type: LOGOUT, payload: '' })\r\n                            history.push(\"/login\")\r\n                        }}>Log Out</Link>\r\n                </li>\r\n            </>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"header\">\r\n            <nav>\r\n                <ul>\r\n                    {links}\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Header)\r\n","import React from 'react'\r\n\r\nfunction Footer() {\r\n    return (\r\n        <div className=\"footer\">\r\n            <p>This project implements protected routes and global auth state with useContext &amp; useReducer</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default React.memo(Footer)\r\n","import React, { Fragment } from 'react'\r\nimport Header from './Header'\r\nimport Footer from './Footer'\r\n\r\nfunction Layout({ children }) {\r\n    return (\r\n        <Fragment>\r\n            <Header />\r\n            <div className=\"main\">\r\n                {children}\r\n            </div>\r\n            <Footer />\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Layout\r\n","import React from 'react';\nimport AuthContext from './state/AuthContext'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\nimport routes from './routes'\nimport ProtectedRoute from './routes/ProtectedRoute'\nimport ErrorPage from './pages/ErrorPage'\nimport Layout from './layout'\nimport { BASE_PATH } from './routes/PATHS'\n\n\nfunction App() {\n\n\n  return (\n    <AuthContext>\n      <Router basename={BASE_PATH}>\n        <Layout>\n          <Switch>\n            {routes.publicRoutes\n              .map(({ path, component }) => (\n                <Route key={path} exact path={path} component={component} />\n              ))\n            }\n            {routes.protectedRoutes\n              .map(({ path, component }) => (\n                <ProtectedRoute key={path} exact path={path} component={component} />\n              ))\n            }\n            <Route path=\"/*\" component={ErrorPage} />\n          </Switch>\n        </Layout>\n      </Router>\n    </AuthContext>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}