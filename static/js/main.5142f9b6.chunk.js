(this["webpackJsonpcontext-reducer"]=this["webpackJsonpcontext-reducer"]||[]).push([[0],{20:function(e,t,a){e.exports=a(31)},25:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=(a(25),a(10)),s=a(3),u={set:function(e){var t=e.username,a=e.password,n={username:t,password:m(a)};localStorage.setItem("crUser",JSON.stringify(n))},get:function(){var e=localStorage.getItem("crUser");return JSON.parse(e)},rm:function(){var e=this.get();return localStorage.removeItem("crUser"),e}},m=function(e){return"youSmarty"+e.split("").reverse().join("")},i=u,p="login",d="logout",E="signup",h=r.a.createContext(),b=p,g=d,v=E,f={isLoggedIn:!1,username:"",password:""};function O(e,t){var a=t.payload,n=a.username,r=a.password;switch(t.type){case b:var l=i.get();return(null===l||void 0===l?void 0:l.username)===n&&(null===l||void 0===l?void 0:l.password)===m(r)?Object(s.a)(Object(s.a)({},e),{},{isLoggedIn:!0,username:n,password:r}):Object(s.a)(Object(s.a)({},e),{},{isLoggedIn:!1});case g:return Object(s.a)(Object(s.a)({},e),f);case v:return i.set(t.payload),Object(s.a)(Object(s.a)({},e),{},{username:n,password:r});default:return e}}function j(e){var t=e.children,a=Object(n.useReducer)(O,f),l=Object(o.a)(a,2),c=l[0],u=l[1];return r.a.createElement(h.Provider,{value:Object(s.a)(Object(s.a)({},c),{},{dispatch:u})},t)}var w=a(4),N=a(1);var S=function(){var e=Object(n.useContext)(h).username;return r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"Welcome ",r.a.createElement("span",{className:"white"},e)," ,"),r.a.createElement("h3",null,"Checkout user-details page for more information..."))};var H=function(){var e=Object(n.useContext)(h),t=e.username,a=e.password;return r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"User Details:"),r.a.createElement("h2",null,"Username : ",r.a.createElement("span",{className:"white"},t)),r.a.createElement("h2",null,"Password : ",r.a.createElement("span",{className:"olive"},a)))},A={ROOT_PATH:"/",LOGIN_PATH:"/login",SIGNUP_PATH:"/signup",HELP_PATH:"/help"},y={DASHBOARD_PATH:"/dashboard",USER_DETAILS_PATH:"/userdetails"},P=y,T=[{path:P.DASHBOARD_PATH,component:S},{path:P.USER_DETAILS_PATH,component:H}];var x=function(){return r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"Welcome to ",r.a.createElement("span",{className:"project-name"},"context-reducer")," project!"),r.a.createElement("h3",null,"This project is done in ",r.a.createElement("span",{className:"white"},"react-js")),r.a.createElement("p",null,"Here ",r.a.createElement("span",{className:"white"},"react-router-dom")," is used and protected routes are implemented with authentication done in global state."),r.a.createElement("p",null,"To consume auth state from global state, ",r.a.createElement("span",{className:"white"},"useContext")," hook is used and to change auth state from a component, dispatch method from ",r.a.createElement("span",{className:"white"},"useReducer")," hook is called."),r.a.createElement("p",null,"Repo on ",r.a.createElement("a",{href:"https://github.com/azashi/context-reducer",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"blue"},"GitHub"))))},I=a(9);var _=function(e){var t=e.handleSubmit,a=e.handleDetails,n=e.details,l=e.submitButton;return r.a.createElement("form",{onSubmit:t,className:"form",autoComplete:"off"},r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"username"},"Enter username"),r.a.createElement("input",{type:"text",name:"username",onChange:a,value:n.username,required:!0})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{htmlFor:"password"},"Enter password"),r.a.createElement("input",{type:"password",name:"password",onChange:a,value:n.password,required:!0})),r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{type:"submit"},l)))};var L=function(){var e=y.DASHBOARD_PATH,t=p,a=Object(n.useContext)(h),l=a.username,c=a.password,u=Object(N.g)(),m=Object(n.useState)({username:l,password:c}),i=Object(o.a)(m,2),d=i[0],E=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Log In"),r.a.createElement(_,{handleSubmit:function(n){n.preventDefault(),a.dispatch({type:t,payload:d}),u.replace(e)},handleDetails:function(e){var t=e.target,a=t.name,n=t.value;E((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(I.a)({},a,n))}))},details:d,submitButton:"Login"}))};var D=function(){var e=A.LOGIN_PATH,t=E,a=Object(n.useContext)(h),l=Object(N.g)(),c=Object(n.useState)({username:"",password:""}),u=Object(o.a)(c,2),m=u[0],i=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Sign Up"),r.a.createElement(_,{handleSubmit:function(n){n.preventDefault(),a.dispatch({type:t,payload:m}),l.push(e)},handleDetails:function(e){var t=e.target,a=t.name,n=t.value;i((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(I.a)({},a,n))}))},details:m,submitButton:"Sign Up"}))};var U=function(){return r.a.createElement("div",{className:"content"},r.a.createElement("h3",null,"Help"),r.a.createElement("ol",{style:R},r.a.createElement("li",null," Username or password is incorrect"),r.a.createElement("li",null," Please Sign Up first"),r.a.createElement("li",null," Username and password are persisted in local-storage after sign up"),r.a.createElement("li",null," If you forget your login details, just sign up again")),r.a.createElement("br",null),r.a.createElement("p",null,"For code implementation details visit this project's repo on ",r.a.createElement("a",{href:"https://github.com/azashi/context-reducer",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"blue"},"GitHub"))))},R={marginLeft:"20px"},C=A,k={protectedRoutes:T,publicRoutes:[{path:C.ROOT_PATH,component:x},{path:C.LOGIN_PATH,component:L},{path:C.SIGNUP_PATH,component:D},{path:C.HELP_PATH,component:U}]},F=a(19);var B=function(e){var t=e.component,a=Object(F.a)(e,["component"]),l=Object(n.useContext)(h);return r.a.createElement(N.b,Object.assign({},a,{render:function(e){return l.isLoggedIn?r.a.createElement(t,e):r.a.createElement(N.a,{to:{pathname:"/help",state:{from:e.location}}})}}))};var G=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Error 404 not found"))};var J=r.a.memo((function(){var e=d,t=Object(n.useContext)(h),a=Object(N.g)(),l=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(w.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(w.b,{to:"/signup"},"Sign-Up")),r.a.createElement("li",null,r.a.createElement(w.b,{to:"/login"},"Login")));return t.isLoggedIn&&(l=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(w.b,{to:"/dashboard"},"Dashboard")),r.a.createElement("li",null,r.a.createElement(w.b,{to:"/userdetails"},"User Details")),r.a.createElement("li",null,r.a.createElement(w.b,{to:"",className:"logout",onClick:function(){t.dispatch({type:e,payload:""}),a.push("/login")}},"Log Out")))),r.a.createElement("div",{className:"header"},r.a.createElement("nav",null,r.a.createElement("ul",null,l)))}));var q=r.a.memo((function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"This project implements protected routes and global auth state with useContext & useReducer"))}));var z=function(e){var t=e.children;return r.a.createElement(n.Fragment,null,r.a.createElement(J,null),r.a.createElement("div",{className:"main"},t),r.a.createElement(q,null))};var W=function(){return r.a.createElement(j,null,r.a.createElement(w.a,{basename:"/context-reducer"},r.a.createElement(z,null,r.a.createElement(N.d,null,k.publicRoutes.map((function(e){var t=e.path,a=e.component;return r.a.createElement(N.b,{key:t,exact:!0,path:t,component:a})})),k.protectedRoutes.map((function(e){var t=e.path,a=e.component;return r.a.createElement(B,{key:t,exact:!0,path:t,component:a})})),r.a.createElement(N.b,{path:"/*",component:G})))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.5142f9b6.chunk.js.map